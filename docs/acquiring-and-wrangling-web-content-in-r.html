<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Interfacing R with Web Technologies for Data Acquistion and Interactive Visualization</title>
  <meta content="text/html; charset=UTF-8" http-equiv="Content-Type">
  <meta name="description" content="An overview of the R package plotly">
  <meta name="generator" content="bookdown 0.1.7 and GitBook 2.6.7">

  <meta property="og:title" content="Interfacing R with Web Technologies for Data Acquistion and Interactive Visualization" />
  <meta property="og:type" content="book" />
  <meta property="og:url" content="<a href="http://cpsievert.github.io/phd-thesis" class="uri">http://cpsievert.github.io/phd-thesis</a>" />
  
  <meta property="og:description" content="An overview of the R package plotly" />
  <meta name="github-repo" content="cpsievert/phd-thesis" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Interfacing R with Web Technologies for Data Acquistion and Interactive Visualization" />
  
  <meta name="twitter:description" content="An overview of the R package plotly" />
  

<meta name="author" content="Carson Sievert">

<meta name="date" content="2016-09-28">


  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="what-makes-a-good-software-interface.html">
<link rel="next" href="dynamic-interactive-statistical-web-graphics.html">

<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />










<link rel="stylesheet" href="css/style.css" type="text/css" />
</head>

<body>


  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">PhD Thesis</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Abstract</a></li>
<li class="chapter" data-level="1" data-path="literature-review.html"><a href="literature-review.html"><i class="fa fa-check"></i><b>1</b> Literature Review</a><ul>
<li class="chapter" data-level="1.1" data-path="what-makes-a-good-software-interface.html"><a href="what-makes-a-good-software-interface.html"><i class="fa fa-check"></i><b>1.1</b> What makes a good software interface?</a></li>
<li class="chapter" data-level="1.2" data-path="acquiring-and-wrangling-web-content-in-r.html"><a href="acquiring-and-wrangling-web-content-in-r.html"><i class="fa fa-check"></i><b>1.2</b> Acquiring and wrangling web content in R</a><ul>
<li class="chapter" data-level="1.2.1" data-path="acquiring-and-wrangling-web-content-in-r.html"><a href="acquiring-and-wrangling-web-content-in-r.html#interfaces-for-working-with-web-content"><i class="fa fa-check"></i><b>1.2.1</b> Interfaces for working with web content</a></li>
<li class="chapter" data-level="1.2.2" data-path="acquiring-and-wrangling-web-content-in-r.html"><a href="acquiring-and-wrangling-web-content-in-r.html#interfaces-for-acquiring-data-on-the-web"><i class="fa fa-check"></i><b>1.2.2</b> Interfaces for acquiring data on the web</a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="dynamic-interactive-statistical-web-graphics.html"><a href="dynamic-interactive-statistical-web-graphics.html"><i class="fa fa-check"></i><b>1.3</b> Dynamic interactive statistical web graphics</a><ul>
<li class="chapter" data-level="1.3.1" data-path="dynamic-interactive-statistical-web-graphics.html"><a href="dynamic-interactive-statistical-web-graphics.html#why-interactive"><i class="fa fa-check"></i><b>1.3.1</b> Why interactive?</a></li>
<li class="chapter" data-level="1.3.2" data-path="dynamic-interactive-statistical-web-graphics.html"><a href="dynamic-interactive-statistical-web-graphics.html#indirect-versus-direct-manipulation"><i class="fa fa-check"></i><b>1.3.2</b> Indirect versus direct manipulation</a></li>
<li class="chapter" data-level="1.3.3" data-path="dynamic-interactive-statistical-web-graphics.html"><a href="dynamic-interactive-statistical-web-graphics.html#linked-views-and-pipelines"><i class="fa fa-check"></i><b>1.3.3</b> Linked views and pipelines</a></li>
<li class="chapter" data-level="1.3.4" data-path="dynamic-interactive-statistical-web-graphics.html"><a href="dynamic-interactive-statistical-web-graphics.html#web-graphics"><i class="fa fa-check"></i><b>1.3.4</b> Web graphics</a></li>
<li class="chapter" data-level="1.3.5" data-path="dynamic-interactive-statistical-web-graphics.html"><a href="dynamic-interactive-statistical-web-graphics.html#translating-r-graphics-to-the-web"><i class="fa fa-check"></i><b>1.3.5</b> Translating R graphics to the web</a></li>
<li class="chapter" data-level="1.3.6" data-path="dynamic-interactive-statistical-web-graphics.html"><a href="dynamic-interactive-statistical-web-graphics.html#r-interfaces-for-interactive-web-graphics"><i class="fa fa-check"></i><b>1.3.6</b> R interfaces for interactive web graphics</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="taming-pitchfx-data-with-xml2r-and-pitchrx.html"><a href="taming-pitchfx-data-with-xml2r-and-pitchrx.html"><i class="fa fa-check"></i><b>2</b> Taming PITCHf/x Data with XML2R and pitchRx</a></li>
<li class="chapter" data-level="3" data-path="ldavis-a-method-for-visualizing-and-interpreting-topics.html"><a href="ldavis-a-method-for-visualizing-and-interpreting-topics.html"><i class="fa fa-check"></i><b>3</b> LDAvis: A method for visualizing and interpreting topics</a></li>
<li class="chapter" data-level="4" data-path="two-new-keywords-for-interactive-animated-plot-design-clickselects-and-showselected.html"><a href="two-new-keywords-for-interactive-animated-plot-design-clickselects-and-showselected.html"><i class="fa fa-check"></i><b>4</b> Two new keywords for interactive, animated plot design: clickSelects and showSelected</a></li>
<li class="chapter" data-level="5" data-path="interactive-data-visualization-with-plotly-and-shiny.html"><a href="interactive-data-visualization-with-plotly-and-shiny.html"><i class="fa fa-check"></i><b>5</b> Interactive Data Visualization with plotly and shiny</a><ul>
<li class="chapter" data-level="5.1" data-path="the-taxonomy.html"><a href="the-taxonomy.html"><i class="fa fa-check"></i><b>5.1</b> The taxonomy</a></li>
<li class="chapter" data-level="5.2" data-path="exploring-australian-election-data.html"><a href="exploring-australian-election-data.html"><i class="fa fa-check"></i><b>5.2</b> Exploring Australian election data</a></li>
<li class="chapter" data-level="5.3" data-path="exploring-pedestrain-counts.html"><a href="exploring-pedestrain-counts.html"><i class="fa fa-check"></i><b>5.3</b> Exploring pedestrain counts</a></li>
<li class="chapter" data-level="5.4" data-path="exploring-disease-outbreaks.html"><a href="exploring-disease-outbreaks.html"><i class="fa fa-check"></i><b>5.4</b> Exploring disease outbreaks</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i><b>6</b> References</a></li>
<li class="divider"></li>
<li><a href="https://bookdown.org" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Interfacing R with Web Technologies for Data Acquistion and Interactive Visualization</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="acquiring-and-wrangling-web-content-in-r" class="section level2">
<h2><span class="header-section-number">1.2</span> Acquiring and wrangling web content in R</h2>
<div id="interfaces-for-working-with-web-content" class="section level3">
<h3><span class="header-section-number">1.2.1</span> Interfaces for working with web content</h3>
<p>R has a rich history of interfacing with web technologies for accomplishing a variety of tasks such as requesting, manipulating, and creating web content. As an important first step, extending ideas from <span class="citation">(Chambers <a href="references.html#ref-Chambers:1999">1999</a>)</span>, Brian Ripley implemented the connections interface for file-oriented input/output in R <span class="citation">(Ripley <a href="references.html#ref-Connections">2001</a>)</span>. This interface supports a variety of common transfer protocols (HTTP, HTTPS, FTP), providing access to most files on the web that can be identified with a Uniform Resource Locator (URL). Connection objects are actually external pointers, meaning that, instead of immediately reading the file, they just point to the file, and make no assumptions about the actual contents of the file.</p>
<p>Many functions in the base R distribution for reading data (e.g., <code>scan</code>, <code>read.table</code>, <code>read.csv</code>, etc.) are built on top of connections, and provide additional functionality for parsing well-structured plain-text into basic R data structures (vector, list, data frame, etc.). However, the base R distribution does not provide functionality for parsing common file formats found on the web (e.g., HTML, XML, JSON). In addition, the standard R connection interface provides no support for communicating with web servers beyond a simple HTTP GET request <span class="citation">(Lang <a href="references.html#ref-Lang:2006us">2006</a>)</span>.</p>
<p>The <strong>RCurl</strong>, <strong>XML</strong>, and <strong>RJSONIO</strong> packages were major contributions that drastically improved our ability to request, manipulate, and create web content from R <span class="citation">(Nolan and Temple Lang <a href="references.html#ref-nolan-lang">2014</a>)</span>. The <strong>RCurl</strong> package provides a suite of high and low level bindings to the C library libcurl, making it possible to transfer files over more network protocols, communicate with web servers (e.g., submit forms, upload files, etc.), process their responses, and handle other details such as redirects and authentication <span class="citation">(Temple Lang <a href="references.html#ref-RCurl">2014</a><a href="references.html#ref-RCurl">a</a>)</span>. The <strong>XML</strong> package provides low-level bindings to the C library libxml2, making it possible to download, parse, manipulate, and create XML (and HTML) <span class="citation">(Temple Lang and CRAN Team <a href="references.html#ref-XML">2015</a>)</span>. To make this possible, <strong>XML</strong> also provides some data structures for representing XML in R. The <strong>RJSONIO</strong> package provides a mapping between R objects and JavaScript Object Notation (JSON) <span class="citation">(Temple Lang <a href="references.html#ref-RJSONIO">2014</a><a href="references.html#ref-RJSONIO">b</a>)</span>. These packages were heavily used for years, but several newer interfaces have made these tasks easier and more efficient.</p>
<p>The <strong>curl</strong>, <strong>httr</strong>, and <strong>jsonlite</strong> packages are more modern R interfaces for requesting content on the web and interacting with web servers. The <strong>curl</strong> package provides a much simpler interface to libcurl that also supports streaming data (useful for transferring large data), and generally has better performance than <strong>RCurl</strong> <span class="citation">(Ooms <a href="references.html#ref-curl">2015</a>)</span>. The <strong>httr</strong> package builds on <strong>curl</strong> and organizes it’s functionality around HTTP verbs (GET, POST, etc.) <span class="citation">(Wickham <a href="references.html#ref-httr">2015</a><a href="references.html#ref-httr">a</a>)</span>. Since most web application programming interfaces (APIs) organize their functionality around these same verbs, it is often very easy to write R bindings to web services with <strong>httr</strong>. The <strong>httr</strong> package also builds on <strong>jsonlite</strong> since it provides consistent mappings between R/JSON and most most modern web APIs accept and send messages in JSON format <span class="citation">(Jeroen Ooms <a href="references.html#ref-jsonlite">2014</a><a href="references.html#ref-jsonlite">a</a>)</span>. These packages have already had a profound impact on the investment required to interface R with web services, which are useful for many things beyond data acquisition. For example, it is now easy to install R packages hosted on the web (<strong>devtools</strong>), perform cloud computing (<strong>analogsea</strong>), and archive/share computational outputs (<strong>dvn</strong>, <strong>rfigshare</strong>, <strong>RAmazonS3</strong>, <strong>googlesheets</strong>, <strong>rdrop2</strong>, etc.).</p>
<p>The <strong>rvest</strong> package builds on <strong>httr</strong> and makes it easy to manipulate content in HTML/XML files <span class="citation">(Wickham <a href="references.html#ref-rvest">2015</a><a href="references.html#ref-rvest">c</a>)</span>. Using <strong>rvest</strong> in combination with <a href="http://selectorgadget.com/">SelectorGadget</a>, it is often possible to extract structured information (e.g., tables, lists, links, etc) from HTML with almost no knowledge/familiarity with web technologies. The <strong>XML2R</strong> package has a similar goal of providing an interface to acquire and manipulate XML content into tabular R data structures without any working knowledge of XML/XSLT/XPath <span class="citation">(Sievert <a href="references.html#ref-Sievert:2014a">2014</a><a href="references.html#ref-Sievert:2014a">b</a>)</span>. As a result, these interfaces reduce the startup costs required for analysts to acquire data from the web.</p>
<p>Packages such as <strong>XML</strong>, <strong>XML2R</strong>, and <strong>rvest</strong> can download and parse the source of web pages, which is <em>static</em>, but extracting <em>dynamic</em> web content requires additional tools. The R package <strong>rdom</strong> fills this void and makes it easy to render and access the Document Object Model (DOM) using the headless browsing engine phantomjs <span class="citation">(Sievert <a href="references.html#ref-rdom">2015</a><a href="references.html#ref-rdom">a</a>)</span>. The R package <strong>RSelenium</strong> can also render dynamic web pages and simulate user actions, but its broad scope and heavy software requirements make it harder to use and less reliable compared to <strong>rdom</strong> <span class="citation">(Harrison <a href="references.html#ref-RSelenium">2014</a>)</span>. <strong>rdom</strong> is also designed to work seamlessly with <strong>rvest</strong>, so that one may use the <code>rdom()</code> function instead of <code>read_html()</code> to render, parse, and return the DOM as HTML (instead of just the HTML page source).</p>
<p>Any combination of these R packages may be useful in acquiring data for personal use and/or providing a higher-level interface to specific data source(s) to increase their accessibility. The next section focuses on such interfaces.</p>
</div>
<div id="interfaces-for-acquiring-data-on-the-web" class="section level3">
<h3><span class="header-section-number">1.2.2</span> Interfaces for acquiring data on the web</h3>
<p>The web provides access to the world’s largest repository of publicly available information and data. This provides a nice <em>potential</em> resource both teaching and practicing applied statistics, but to be practical useful, it often requires a custom interface to make data more accessible. If publishers follow best practices, a custom interface to the data source usually is not needed, but this is rarely the case. Many times structured data is embedded within larger unstructured documents, making it difficult to incorporate into a data analysis workflow. This is especially true of data used to inform downstream web applications, typically in XML and/or JSON format. There are two main ways to make such data more accessible: (1) package, document, and distribute the data itself (2) provide functionality to acquire the data.</p>
<p>If the data source is fairly small, somewhat static, and freely available with an open license, then we can directly provide data via R packaging mechanism. In this case, it is best practice for package authors include scripts used to acquire, transform, and clean the data. This model is especially nice for both teaching and providing examples, since users can easily access data by installing the R package. <span class="citation">(Wickham <a href="references.html#ref-rpkgs">2015</a><a href="references.html#ref-rpkgs">b</a>)</span> provides a nice section outlining the details of bundling data with R packages.<a href="#fn1" class="footnoteRef" id="fnref1"><sup>1</sup></a></p>
<p>R packages that just provide functionality to acquire data can be more desirable than bundling it for several reasons. In some cases, it helps avoid legal issues with rehosting copyrighted data. Furthermore, the source code of R packages can always be inspected, so users can verify the cleaning and transformations performed on the data to ensure its integrity, and suggest changes if necessary. They are also versioned, which makes the data acquisition, and thus any downstream analysis, more reproducible and transparent. It is also possible to handle dynamic data with such interfaces, meaning that new data can be acquired without any change to the underlying source code. As explained in <a href="taming-pitchfx-data-with-xml2r-and-pitchrx.html#taming-pitchfx-data-with-xml2r-and-pitchrx">Taming PITCHf/x Data with XML2R and pitchRx</a>, this is an important quality of the <strong>pitchRx</strong> R package since new PITCHf/x data is made available on a daily basis.</p>
<p>Perhaps the largest centralized effort in this domain is lead by <a href="https://ropensci.org">rOpenSci</a>, a community of R developers that, at the time of writing, maintains more than 50 packages providing access to scientific data ranging from bird sightings, species occurrence, and even text/metadata from academic publications. This provides a tremendous service to researchers who want to spend their time building models and deriving insights from data, rather than learning the programming skills necessary to acquire and clean it.</p>
<p>It’s becoming increasingly clear that “meta” packages that standardize the interface to data acquisition/curation in a particular domain would be tremendously useful. However, it is not clear how such interfaces should be designed. The R package <strong>etl</strong> is one step in this direction and aims to provide a standardized interface for <em>any</em> data access package that fits into an Extract-Transform-Load paradigm <span class="citation">(Baumer and Sievert, n.d.)</span>. The package provides generic <code>extract</code>-<code>transform</code>-<code>load</code> functions, but requires package authors to write custom <code>extract</code>-<code>transform</code> methods for the specific data source. In theory, the default <code>load</code> method works for any application; as well as other database management operations such as <code>update</code> and <code>clean</code>.</p>
</div>
</div>
<div class="footnotes">
<hr />
<ol start="1">
<li id="fn1"><p>This section is freely available online <a href="http://r-pkgs.had.co.nz/data.html" class="uri">http://r-pkgs.had.co.nz/data.html</a>.<a href="acquiring-and-wrangling-web-content-in-r.html#fnref1">↩</a></p></li>
</ol>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="what-makes-a-good-software-interface.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="dynamic-interactive-statistical-web-graphics.html" class="navigation navigation-next " aria-label="Next page""><i class="fa fa-angle-right"></i></a>

<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"facebook": true,
"twitter": true,
"google": false,
"weibo": false,
"instapper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/cpsievert/phd-thesis/edit/gh-pages/index.Rmd",
"text": "Edit"
},
"download": ["bookdown.pdf", "bookdown.epub", "bookdown.mobi"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
